<%= erb "header.html".to_sym %>

<!-- host_index -->
<% hosts = locals[:hosts] %>
<body>
<div class="container-fluid">
<div class="content">
    <h1>Hosts</h1>
    <br />
<%
if hosts.empty?
    %>
        <div>No hosts.</div>
<%
else
    %>
    <div class="pull-right">
        <a class="btn btn-primary" href="javascript:$('#add-tags-modal').modal('show');">Add Tags</a>
    </div>

    <table class="servertag-dataTable table table-striped table-bordered">
        <thead>
            <tr>
                <th class="checkbox-cell"><input type="checkbox" /></th>
                <th class="span4">Hostname</th>
                <th>Tags</th>
            </tr>
        </thead>
        <tbody>
    <%
    hosts.sort.each do |host|
        %>
        <tr servertag-hostname="<%= host.name %>">
            <td><input type="checkbox" class="host-row" /></td>
            <td><%= host.name %></td>
            <td>
        <%
        host.tags.sort.each do |tag|
            %>
                <span class="label <%= tag =~ /:/ ? "label-info" : "" %>"><%= tag %></span>
        <%
        end
        %>
            </td>
        </tr>
    <%
    end
    %>
        </tbody>
    </table>
<%
end
%>
</div>
</div>

<div id="add-tags-modal" class="modal hide fade in">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">x</a>
        <h3>Add Tags</h3>
    </div>
    <div class="modal-body">
        <p>What tags do you want to add?</p>
        <input type="text" placeholder="Tags to add..." class="input-xlarge" />
    </div>
    <div class="modal-footer">
        <a id="add-tags-submit" href="javascript:false;" data-dismiss="modal" class="btn btn-primary">Add</a>
        <a class="btn" data-dismiss="modal">Cancel</a>
    </div>
</div>
</body>

<%= erb "footer.html".to_sym %>
